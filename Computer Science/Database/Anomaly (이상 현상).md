### 🌟 Anomaly (이상 현상)
정규화(Normalization)의 주된 목적으로 테이블 설계가 잘못되어 **하나의 레코드(튜플)에 여러 종류의 독립적인 정보가 섞여 있을 때** 발생

***

## 1. 삽입 이상 (Insertion Anomaly) 🚫

데이터베이스에 새로운 정보를 **추가(삽입)** 할 때 원치 않는 다른 정보까지 강제로 입력해야 하거나, 혹은 원하는 정보만은 입력할 수 없는 경우

✅ 특정 데이터를 삽입하려면 존재하지 않는 다른 데이터가 필요할 때.

_**"아직 학생이 없는 새로운 과목을 개설할 수 없어!"**_

| 학생ID | 과목명 | 지도교수 | 교수 사무실 위치 |
|:---:|:---:|:---:|:---:|
| 101 | DB | 김철수 | **201호** |
| 102 | DB | 김철수 | **201호** |
| 103 | 통계 | 박영희 | 305호 |
| NULL | 선형대수 | 이수정 | 410호 | $\leftarrow$ **문제 발생 지점 (만약 기본 키가 NULL을 허용하지 않는다면 삽입 불가)** |

**예시:**

1.  **새로운 과목 '선형대수'와 '이수정 교수' 정보를 추가**하려 합니다.
2.  아직 이 과목을 수강하는 **학생이 한 명도 없기 때문에** '학생ID' 필드에 **NULL** 값을 넣어야 합니다.
3.  만약 '학생ID'가 테이블의 **기본 키(Primary Key)** 의 일부이거나, NULL을 허용하지 않는다면, 이 **교수와 과목 정보**만으로는 테이블에 삽입 자체가 **거부**됩니다.

***

## 2. 갱신 이상 (Update Anomaly) 🔄

중복된 데이터 중 일부만 **수정(갱신)** 하고 나머지는 수정하지 않아서 **데이터의 불일치(Inconsistency)** 가 발생하는 경우

✅ 중복된 데이터를 갱신할 때 일부만 갱신되어 데이터 무결성이 깨질 때.

_**"교수님이 사무실을 옮겼는데, 명단 중 절반만 주소를 바꿨네!"**_

| 학생ID | 과목명 | 지도교수 | **교수 사무실 위치** |
|:---:|:---:|:---:|:---:|
| 101 | DB | 김철수 | **201호** $\leftarrow$ **(갱신됨)** |
| 102 | DB | 김철수 | **101호** $\leftarrow$ **(갱신 누락)** |
| 103 | 통계 | 박영희 | 305호 |

**예시:**

1.  '김철수' 교수가 **201호**에서 **101호**로 사무실을 옮겼습니다.
2.  '김철수' 교수의 정보는 (학생 101, 학생 102) 두 레코드에 **중복**되어 있습니다.
3.  관리자가 실수로 **학생 101의 레코드만 101호로 갱신**하고, **학생 102의 레코드는 201호 그대로 두었습니다.**
4.  결과적으로, 데이터베이스는 **'김철수 교수'의 사무실 위치에 대해 201호와 101호라는 모순된 정보**를 가지게 됩니다.

***

## 3. 삭제 이상 (Deletion Anomaly) 🗑️

어떤 정보를 삭제할 때, 그 정보와 함께 묶여 있던 **유용한 다른 정보까지도 함께 삭제**되는 경우

✅ 특정 정보를 삭제하면 반드시 보존해야 할 다른 정보가 손실될 때.

_**"마지막 학생이 과목을 드롭했더니, 그 과목의 개설 정보 자체가 사라져 버렸어!"**_

| 학생ID | 과목명 | 지도교수 | 교수 사무실 위치 |
|:---:|:---:|:---:|:---:|
| 101 | DB | 김철수 | 201호 |
| $\rightarrow$ 103 | 통계 | 박영희 | 305호 | **(학생 103이 유일하게 '통계' 과목을 수강 중)** |

**예시:**

1.  **'통계' 과목**을 수강하는 유일한 학생인 **'학생ID 103'** 이 수강을 취소(레코드 삭제)했습니다.
2.  학생 103의 레코드를 **삭제**하는 순간, 이 레코드에 유일하게 저장되어 있던 **'통계' 과목에 대한 '박영희 교수'의 정보(교수명, 사무실 위치)** 까지 함께 **영구적으로 삭제되어 손실**됩니다.
3.  학생 정보는 사라져도, '박영희 교수'가 '통계' 과목을 가르친다는 사실 자체는 보존되어야 하지만, 잘못된 설계로 인해 손실된 것입니다.

***

## 🎓 면접 대비 핵심 키워드 및 문제

### 🪄 핵심 키워드

| 이상 현상 | 키워드 |
| :---: | :--- |
| 삽입 이상 | **부분 함수 종속**으로 인한 발생. </br> 테이블의 기본 키가 아닌 속성(예: 교수 정보)이 기본 키의 일부(예: 학생ID)에만 종속되어 있을 때 발생. |
| 갱신 이상 | **데이터 중복(Redundancy)** 이 원인. 갱신 시 모든 사본을 찾아 갱신해야 하는 부담 발생. |
| 삭제 이상 | **이행적 종속** 또는 **부분 함수 종속**으로 인한 발생. 레코드 삭제 시 **데이터 손실(Loss of Data)** 발생. |

### 1. 이상 현상 발생 원인

* **원인:** **함수적 종속성(Functional Dependency)** 이 기본 키에 올바르게 설정되지 않았기 때문입니다. 즉, 하나의 테이블이 여러 주제(Entity)에 대한 정보를 담고 있기 때문에 발생합니다.
* **해결책:** **정규화(Normalization)** 를 통해 테이블을 **쪼개서(Decomposition)** 각 테이블이 하나의 주제만을 다루도록 분리합니다.

### 2. 정규화 단계별 해결 (참고)

| 정규화 단계 | 해결하는 문제 | 이상 현상 제거 |
|:---:|:---:|:---:|
| **제1정규형 (1NF)** | **원자성** 위반 (반복되는 그룹 제거) | 이상 현상 직접 해결보다는 기반 마련 |
| **제2정규형 (2NF)** | **부분 함수 종속** 제거 | **삽입 이상, 삭제 이상** 방지 |
| **제3정규형 (3NF)** | **이행적 함수 종속** 제거 | **갱신 이상, 삭제 이상** 방지 |
| **BCNF** | (3NF의 엄격한 버전) | 모든 이상 현상 방지에 가장 효과적 |
